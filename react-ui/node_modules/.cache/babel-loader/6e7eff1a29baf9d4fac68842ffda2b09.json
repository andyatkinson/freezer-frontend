{"ast":null,"code":"var _jsxFileName = \"/Users/andy/Projects/freezer-frontend/src/containers/AddItem.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { addItem } from '../actions/fetchItems'; //import freezerService from '../services/freezer'\n\nimport axios from 'axios';\nimport * as Ons from 'react-onsenui';\nimport { useHistory } from \"react-router-dom\";\n\nconst AddItem = ({\n  dispatch\n}) => {\n  let history = useHistory();\n  let input;\n  const today = new Date().toJSON().slice(0, 10);\n\n  const saveItem = function (event) {\n    console.log(\"save item\"); // synthetic event\n\n    if (!input.value.trim()) {\n      return;\n    }\n\n    const newItem = {\n      name: input.value,\n      addedOn: today\n    };\n    axios.post(\"http://localhost:1323/items\", newItem).then(res => {\n      dispatch(addItem(res.data));\n      history.replace(\"/\");\n    }); // dispatch(addItem(input.value))\n\n    input.value = '';\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ons-page\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ons-toolbar\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, \"Add Item\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      saveItem();\n      e.preventDefault();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ons-list\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ons-list-header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Details\"), /*#__PURE__*/React.createElement(\"ons-list-item\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ons-input\", {\n    modifier: \"underbar\",\n    placeholder: \"Lasagna w/ Meat (Servings: 4)...\",\n    float: true,\n    ref: node => input = node,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Add\",\n    className: \"button--large--cta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default connect()(AddItem);","map":{"version":3,"sources":["/Users/andy/Projects/freezer-frontend/src/containers/AddItem.js"],"names":["React","connect","addItem","axios","Ons","useHistory","AddItem","dispatch","history","input","today","Date","toJSON","slice","saveItem","event","console","log","value","trim","newItem","name","addedOn","post","then","res","data","replace","e","preventDefault","node"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,uBAAxB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,eAArB;AAEA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAChC,MAAIC,OAAO,GAAGH,UAAU,EAAxB;AACA,MAAII,KAAJ;AACA,QAAMC,KAAK,GAAG,IAAIC,IAAJ,GAAWC,MAAX,GAAoBC,KAApB,CAA0B,CAA1B,EAA4B,EAA5B,CAAd;;AAEA,QAAMC,QAAQ,GAAG,UAAUC,KAAV,EAAiB;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EADgC,CAEhC;;AACA,QAAI,CAACR,KAAK,CAACS,KAAN,CAAYC,IAAZ,EAAL,EAAyB;AACvB;AACD;;AAED,UAAMC,OAAO,GAAG;AAACC,MAAAA,IAAI,EAAEZ,KAAK,CAACS,KAAb;AAAoBI,MAAAA,OAAO,EAAEZ;AAA7B,KAAhB;AAEAP,IAAAA,KAAK,CAACoB,IAAN,CAAW,6BAAX,EAA0CH,OAA1C,EACCI,IADD,CACMC,GAAG,IAAI;AACXlB,MAAAA,QAAQ,CAACL,OAAO,CAACuB,GAAG,CAACC,IAAL,CAAR,CAAR;AAEAlB,MAAAA,OAAO,CAACmB,OAAR,CAAgB,GAAhB;AACD,KALD,EATgC,CAgBhC;;AACAlB,IAAAA,KAAK,CAACS,KAAN,GAAc,EAAd;AACD,GAlBD;;AAoBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAIE;AAAM,IAAA,QAAQ,EAAGU,CAAD,IAAO;AAACd,MAAAA,QAAQ;AAAIc,MAAAA,CAAC,CAACC,cAAF;AAAoB,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAW,IAAA,QAAQ,EAAC,UAApB;AACA,IAAA,WAAW,EAAC,kCADZ;AAEA,IAAA,KAAK,MAFL;AAGA,IAAA,GAAG,EAAEC,IAAI,IAAIrB,KAAK,GAAGqB,IAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,eAWE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,KAA3B;AAAiC,IAAA,SAAS,EAAC,oBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CAJF,CADF,CADF;AAsBD,CA/CD;;AAiDA,eAAe7B,OAAO,GAAGK,OAAH,CAAtB","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { addItem } from '../actions/fetchItems'\n//import freezerService from '../services/freezer'\nimport axios from 'axios'\nimport * as Ons from 'react-onsenui'\n\nimport { useHistory } from \"react-router-dom\"\n\nconst AddItem = ({ dispatch }) => {\n  let history = useHistory();\n  let input\n  const today = new Date().toJSON().slice(0,10)\n\n  const saveItem = function (event) {\n    console.log(\"save item\")\n    // synthetic event\n    if (!input.value.trim()) {\n      return\n    }\n\n    const newItem = {name: input.value, addedOn: today}\n\n    axios.post(\"http://localhost:1323/items\", newItem)\n    .then(res => {\n      dispatch(addItem(res.data))\n\n      history.replace(\"/\")\n    })\n\n    // dispatch(addItem(input.value))\n    input.value = ''\n  }\n\n  return (\n    <div>\n      <ons-page>\n        <ons-toolbar>\n          <div className=\"center\">Add Item</div>\n        </ons-toolbar>\n        <form onSubmit={(e) => {saveItem(); e.preventDefault();}}>\n          <ons-list>\n            <ons-list-header>Details</ons-list-header>\n            <ons-list-item>\n              <ons-input modifier=\"underbar\"\n              placeholder=\"Lasagna w/ Meat (Servings: 4)...\"\n              float\n              ref={node => input = node}\n            ></ons-input>\n            </ons-list-item>\n          </ons-list>\n          <input type=\"submit\" value=\"Add\" className=\"button--large--cta\" />\n        </form>\n      </ons-page>\n    </div>\n  )\n}\n\nexport default connect()(AddItem)\n"]},"metadata":{},"sourceType":"module"}